<!DOCTYPE html>
<html lang="es">
	<head>
		<style>
			body,table{ 
			 background-color: #ffffff;
			 font-family: Arial, Helvetica, sans-serif;
			 font-size: 9pt;
			 font-weight: normal;
			 text-decoration: none;
			 color: #000000}
		</style>
		<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
		<script src="js/apiDenue.js"></script>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ApiDenue</title>
	</head>
	<body>
		<div>
			<label for="condi">Condici&oacute;n: </label><input style="max-width:120px;" type="text" id="condi" aria-label="Condición"  value="restaurantes" tabindex="515" />
			<label for="lat">Latitud: </label><input style="max-width:120px;" type="text" id="lat" aria-label="Latitud"  value="21.85717833" tabindex="516" />
			<label for="lon">Longitud: </label><input style="max-width:120px;" type="text" id="lon" aria-label="Longitud"  value="-102.28487238" tabindex="517" />
			<label for="mts">Metros: </label><input style="max-width:120px;" type="text" id="mts" aria-label="Metros"  value="200" tabindex="518" />
			<input type="button" onclick="llamarApiDenueBus();" value="Ver listado" tabindex="519" aria-label="Ver listado" />
			<div id="tabDenue"></div>
		</div>


		<script>
			//var urlApiBusqueda = "https://www.inegi.org.mx/app/api/denue/v1/consulta/buscar/#condicion/#latitud,#longitud/#metros/#token";
			const TOKEN = "1b842e77-10c8-4ab7-8471-8673c2ff5cc8";

			// hacer variable ruta (hasta conulta/), luego tipoConsulta, parámetros según el tipo consulta
			var urlBuscarEntidad = "https://www.inegi.org.mx/app/api/denue/v1/consulta/BuscarEntidad";
			
			//Tutorial para usar fetch
			//https://www.youtube.com/watch?v=MZWUKEkcQaY

			//Las apis mamonas
			//https://www.inegi.org.mx/servicios/api_denue.html#introduccion
			//https://www.inegi.org.mx/servicios/api_indicadores.html#indicadorI

			var condicion = 'restaurantes', entidadFerativa = 14, registroInicial = 1, registroFinal = 1000;
			var responsini = `https://www.inegi.org.mx/app/api/denue/v1/consulta/BuscarEntidad/${condicion}/14/1/10/${token}`;
			var consulta = `https://www.inegi.org.mx/app/api/denue/v1/consulta/BuscarEntidad/${condicion}/${entidadFerativa}/${registroInicial}/${registroFinal}/${token}`;
			//console.log(responsini);

			fetch(consulta)
				.then( function (response) {
					//console.log(response);
					response.json().then( function(restaurantes) {
							console.log(restaurantes)
					});
				})
			.catch("Error con la conexión");
			
		</script>

	</body>
</html>